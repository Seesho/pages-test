<html>
  <head>
  </head>
  <body>
    <h3>Money tracker</h3>
    <div id="transactionTable">
      <table class="table">
        <thead>
          <tr>
            <th ng-click="selectOrder('selected')">Selected</th>
            <th ng-click="selectOrder('amount')">Amount</th>
            <th ng-click="selectOrder('description')">Description</th>
            <th ng-click="selectOrder('category')">Category</th>
            <th ng-click="selectOrder('date')">Date</th>
          </tr>
        </thead>
        <tbody>
          <tr ng-repeat="t in transactions | orderBy:ordering:orderReverse">
            <td ng-click="calcTotal()" class="col-md-1"><input type="checkbox" ng-model="t.selected"></td>
            <td class="col-md-1">{{t.currency}}{{t.amount}}</td>
            <td class="col-md-7">{{t.description}}</td>
            <td class="col-md-2">{{t.category}}</td>
            <td class="col-md-1">{{t.date | date:'MM-dd-yyyy'}}</td>
          </tr>
        </tbody>
      </table>
    </div>

    <div>
      Total: ${{total | number:2}}
    </div>

    <div id="inputDiv">
      <select ng-model="currency" ng-init="currency=currencies[0]" ng-options="currency for currency in currencies">
      </select>
      <input type="number" step="0.01" ng-model="amount" placeholder="Amount"/>
      <input type="text" ng-model="description" placeholder="Description"/>
      <select ng-model="category" ng-init="category=categories[0]" ng-options="category for category in categories"></select>
      <button ng-click="addTransaction(currency,amount,description,category)"
              type="button"
              class="btn btn-success">Add</button>
    </div>



    <div id="selectionDiv">
      <button ng-click="selectAll()"
              class="btn btn-default">Select All</button>
      <button ng-click="deselectAll()"
              class="btn btn-default">Deselect All</button>
    </div>

    <div id="removeDiv">
      <button ng-click="removeSelected()"
              class="btn btn-danger">Remove selected</button>
    </div>

    <div id="debug" ng-if="">
      <!-- TODO:
      * ADD DATES
      * REMOVE ABILITY
      * SORTING FOR OTHER FIELDS
      * FILTERING BASED ON CATEGORY
      * CUSTOMIZING CATEGORY, CURRENCY, ETC.
      * SELECT FROM PREVIOUSLY ENTERED TEXT ENTRIES
      * ENTER TO SUBMIT AN ENTRY
      * SHORT DESC ON TABLE VIEW
      * MODAL WINDOW POP UP TO VIEW MORE DETAILS
      * ADD CARETS TO DISPLAY WHICH WAY IT'S SORTING
      * TOTAL OF SELECTED

      -->
      {{amount | currency:"USD$"}} <br />
      CURRENT TRANSACTIONS: <br />
      {{transactions}} <br />
      {{ordering}}:{{orderReverse}} <br />
      <div>
        {{t.amount}}<br />
      </div>
      {{deletedTransactions}}

    </div>
  </body>
</html>
